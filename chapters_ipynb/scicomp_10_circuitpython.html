
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2. Python on microcontrollers with circuitpython &#8212; Introduction to Computation for the Physics Sciences</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Di-lepton mass spectrum from the Compact Muon Solenoid" href="scicomp_z0_ll_analysis.html" />
    <link rel="prev" title="1. Text as data" href="scicomp_06_textasdata.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/wj_horiz_color.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Computation for the Physics Sciences</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  I. Python basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_00_basics.html">
   1. Basic syntax, variables, functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_01_controlstructs.html">
   2. Control structures, numerical integration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_02_typescontainers.html">
   3. Types, random numbers, lists, dictionaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_03_fileio.html">
   4. File I/O
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  II. Techniques for the physical sciences
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_04_datavis.html">
   1. Data visualization with
   <code class="docutils literal notranslate">
    <span class="pre">
     matplotlib
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_05_fitting.html">
   2. Fitting models to data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_07_ODEs.html">
   3. Simulating solutions to differential equations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_08_montecarlo.html">
   4. Monte Carlo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_09_pandas.html">
   5. Manipulating tabular data with
   <code class="docutils literal notranslate">
    <span class="pre">
     Pandas
    </span>
   </code>
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  III. Optional (but fun)
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_06_textasdata.html">
   1. Text as data
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   2. Python on microcontrollers with
   <code class="docutils literal notranslate">
    <span class="pre">
     circuitpython
    </span>
   </code>
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  IV. Projects
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="scicomp_z0_ll_analysis.html">
   Di-lepton mass spectrum from the Compact Muon Solenoid
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/chapters_ipynb/scicomp_10_circuitpython.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fchapters_ipynb/scicomp_10_circuitpython.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/chapters_ipynb/scicomp_10_circuitpython.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recap">
   2.1. Recap
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation">
   2.2. Motivation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-started-with-the-itsybitsy-2040-and-circuitpython">
   2.3. Getting started with the ItsyBitsy 2040 and CircuitPython
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#configuring-your-itsybitsy">
     Configuring your ItsyBitsy
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#programming-for-the-itsybitsy">
     Programming for the ItsyBitsy
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modules">
     Modules
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#let-s-program">
   2.4. Let’s program!
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#in-class-problems">
   2.5. In-class problems
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regulars">
     Regulars
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#problem-10-0">
       Problem 10.0
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#problem-10-1">
       Problem 10.1
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#meanies">
     Meanies
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#problem-10-2">
       Problem 10.2
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Python on microcontrollers with circuitpython</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recap">
   2.1. Recap
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation">
   2.2. Motivation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-started-with-the-itsybitsy-2040-and-circuitpython">
   2.3. Getting started with the ItsyBitsy 2040 and CircuitPython
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#configuring-your-itsybitsy">
     Configuring your ItsyBitsy
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#programming-for-the-itsybitsy">
     Programming for the ItsyBitsy
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modules">
     Modules
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#let-s-program">
   2.4. Let’s program!
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#in-class-problems">
   2.5. In-class problems
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regulars">
     Regulars
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#problem-10-0">
       Problem 10.0
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#problem-10-1">
       Problem 10.1
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#meanies">
     Meanies
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#problem-10-2">
       Problem 10.2
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="python-on-microcontrollers-with-circuitpython">
<h1><span class="section-number">2. </span>Python on microcontrollers with <code class="docutils literal notranslate"><span class="pre">circuitpython</span></code><a class="headerlink" href="#python-on-microcontrollers-with-circuitpython" title="Permalink to this headline">#</a></h1>
<section id="recap">
<h2><span class="section-number">2.1. </span>Recap<a class="headerlink" href="#recap" title="Permalink to this headline">#</a></h2>
<p>Let’s continue with our skills inventory with the foundations/applications dichotomy:</p>
<ul class="simple">
<li><p>foundational programming skills</p>
<ul>
<li><p>basic mathematical operations, comparison operators</p></li>
<li><p>iteration and recursion with loop control structures <code class="docutils literal notranslate"><span class="pre">for</span></code> and <code class="docutils literal notranslate"><span class="pre">while</span></code></p></li>
<li><p>keeping track of variables outside of loops (i.e., counting and summing)</p></li>
<li><p>function definition and using functions <em>inside</em> of loops</p></li>
<li><p>conditionals: <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code>, and <code class="docutils literal notranslate"><span class="pre">elif</span></code></p></li>
<li><p>types: <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p>containers such as <code class="docutils literal notranslate"><span class="pre">list</span></code> and <code class="docutils literal notranslate"><span class="pre">dict</span></code></p></li>
<li><p>randm number generation</p></li>
<li><p>accessing and iterating over elements in lists and dicts</p></li>
<li><p>file I/O</p></li>
<li><p>DEBUGGING!</p></li>
<li><p>algorithmic thinking</p></li>
</ul>
</li>
<li><p>applications</p>
<ul>
<li><p>basic (and semi-advanced) data visualization: histograms, scatter plots, higher-dimensions in 2-d</p></li>
<li><p>fitting models to data and extracting results (with uncertainties)</p></li>
<li><p>text analysis, asking questions with unstructured data</p></li>
<li><p>simulating the solutions to ordinary differential equations, Euler Algorithm</p></li>
<li><p>basic Monte Carlo techniques</p></li>
<li><p>tabular data manipulation with <code class="docutils literal notranslate"><span class="pre">Pandas</span></code>, expolratory data analysis</p></li>
</ul>
</li>
</ul>
<p>I am running out of congratulatory things to say about the length and diversity of this list, so I’ll just summarize with: <strong>Wowzerz</strong>.</p>
</section>
<hr class="docutils" />
<section id="motivation">
<h2><span class="section-number">2.2. </span>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">#</a></h2>
<p>Here are some examples of things that normal, everyday people can do with microcontrollers like the ones we’ll use in this lesson.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://hackaday.io/project/179032-raspberry-pi-pico-featuring-mega-game-compilation">Raspberry Pi Pico featuring MEGA game compilation</a></p></li>
<li><p><a class="reference external" href="https://hackaday.com/2021/06/09/tiny-mechanical-keyboard-powered-by-pi-pico/">TINY MECHANICAL KEYBOARD, POWERED BY PI PICO</a></p></li>
</ul>
</section>
<hr class="docutils" />
<section id="getting-started-with-the-itsybitsy-2040-and-circuitpython">
<h2><span class="section-number">2.3. </span>Getting started with the ItsyBitsy 2040 and CircuitPython<a class="headerlink" href="#getting-started-with-the-itsybitsy-2040-and-circuitpython" title="Permalink to this headline">#</a></h2>
<p>In this lesson, we will work with <code class="docutils literal notranslate"><span class="pre">circuitpython</span></code> an implementation of <code class="docutils literal notranslate"><span class="pre">python</span></code> that runs on microcontrollers.  A microcontroller can be thought of as a small computer that reads/applies voltages to from/to electronic devices based on how it is programmed.  <code class="docutils literal notranslate"><span class="pre">circuitpython</span></code> allows us to use <code class="docutils literal notranslate"><span class="pre">python</span></code> to tell our microcontroller how to behave.</p>
<p>Most of our work will happen in Mu.  This notebook serves as a rough set of notes and in-class problems.</p>
<section id="configuring-your-itsybitsy">
<h3>Configuring your ItsyBitsy<a class="headerlink" href="#configuring-your-itsybitsy" title="Permalink to this headline">#</a></h3>
<p>First we have to set up our ItsyBitsy to run <code class="docutils literal notranslate"><span class="pre">circuitpython</span></code>.
If you get stuck, Adafruit provides a LOTS of great info <a class="reference external" href="https://learn.adafruit.com/adafruit-itsybitsy-rp2040?gclid=Cj0KCQjwpImTBhCmARIsAKr58cyh8RAWJTX6vksQ2wjPP402KB8WYACLtVM5YsjFqXamdDtzxqffuUsaAuQjEALw_wcB">here</a></p>
<ol class="simple">
<li><p>Download the ItsyBitsy-specific CircuitPython implementation from <a class="reference external" href="https://circuitpython.org/board/adafruit_itsybitsy_rp2040/">circuitpython.org</a>.  We’re going to use the current version (7.2.5), but any 7.x will work for this tutorial.</p></li>
<li><p>Install the uf2 file on your ItsyBitsy (IB).  Plug the IB into USB.  From Adafruit:</p></li>
</ol>
<blockquote>
<div><p>To enter the bootloader, hold down the BOOT/BOOTSEL button (highlighted in red above), and while continuing to hold it (don’t let go!), press and release the reset button (highlighted in blue above). Continue to hold the BOOT/BOOTSEL button until the RPI-RP2 drive appears!</p>
</div></blockquote>
<ol class="simple">
<li><p>Move the uf2 file to RPI-RP2 drive that appears on your computer.  The drive will disappear and reappear with the name “CIRCUITPY”.  You’re (almost) ready to rock!</p></li>
</ol>
</section>
<section id="programming-for-the-itsybitsy">
<h3>Programming for the ItsyBitsy<a class="headerlink" href="#programming-for-the-itsybitsy" title="Permalink to this headline">#</a></h3>
<p>CircuitPython IS Python… with a lot of other microcontroller-specific capabilities built in.</p>
<p>To run code on the IB, we write the code as a stand-alone python program on our computer and then save it as <code class="docutils literal notranslate"><span class="pre">code.py</span></code> on the IB.  This is doable with any editor, but we’ll be using <code class="docutils literal notranslate"><span class="pre">Mu</span></code> because it is optimized for <code class="docutils literal notranslate"><span class="pre">circuitpython</span></code>.</p>
<p>Please download <code class="docutils literal notranslate"><span class="pre">Mu</span></code> <a class="reference external" href="https://codewith.mu/en/download">here</a>.</p>
</section>
<section id="modules">
<h3>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">circuitpython</span></code> has some nifty built-in modules.  Here are two examples we’ll use below:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code> – especially <code class="docutils literal notranslate"><span class="pre">sleep</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">board</span></code> – Gives access to board features/components.  Try <code class="docutils literal notranslate"><span class="pre">dir(board)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">digitalio</span></code></p></li>
</ul>
<p>Other modules are specific to the board we are using.  For example, the IB has a built-in NeoPixel, and Adafruit provides libraries for easy NeoPixel control.  Lots more libraries available from <a class="reference external" href="https://circuitpython.org/libraries">circuitpython.org</a> – please download the <code class="docutils literal notranslate"><span class="pre">zip</span></code> bundle (make sure it matches the 7.x <code class="docutils literal notranslate"><span class="pre">circuitpython</span></code> version).</p>
</section>
</section>
<hr class="docutils" />
<section id="let-s-program">
<h2><span class="section-number">2.4. </span>Let’s program!<a class="headerlink" href="#let-s-program" title="Permalink to this headline">#</a></h2>
<p>In addition to being an editor, <code class="docutils literal notranslate"><span class="pre">Mu</span></code> provides a command-line interface (CLI) for the IB’s serial port.  (Click the “Serial” icon at the top of the window.)  You can now type <code class="docutils literal notranslate"><span class="pre">python</span></code> code line-by-line directly to the IB!   And get serial output from the IB!  This is a great way to test out the IB’s capabilities.</p>
<p>As with our previous <code class="docutils literal notranslate"><span class="pre">python</span></code> programs, you can always stop a program by pressing [CTRL + C] in the CLI.</p>
<p>Let’s try the following (type or paste into Mu’s Serial interface):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello, world!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Your ItsyBitsy should say this back to you through the CLI!  Next, we’ll try a 2-line program.  Note that the indentation of the second line is still <strong>important</strong>!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello, world!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, try this three-liner:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello, world!&#39;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>ZONK!  That <em>shouldn’t</em> work for you!  Can you fix it by importing the <code class="docutils literal notranslate"><span class="pre">time</span></code> module?</p>
<hr class="docutils" />
<p>Before we move on to uploading programs to the microcontroller, let’s take a look at the built-in accessories that our board knows about.  We can do this by importing the <code class="docutils literal notranslate"><span class="pre">board</span></code> module.  Paste the following two lines in the CLI:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">board</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p>Now let’s move onto some microcontroller-specific uses.  For each block of code below, enter the code into the <code class="docutils literal notranslate"><span class="pre">Mu</span></code> editor.  Save the code and then copy it to the IB as <code class="docutils literal notranslate"><span class="pre">code.py</span></code>.  You may need to reset the Serial monitor or the board to get the code to run.  Don’t forget to check the Serial monitor for errors (or you can use the “Check” feature in <code class="docutils literal notranslate"><span class="pre">Mu</span></code> before transferring your code).</p>
<p>One of the output components that is built into your ItsyBitsy is an LED.  The program below initializes the LED and then flashes it at a constant rate using an indefinite loop.  Note that the condition of the <code class="docutils literal notranslate"><span class="pre">while</span></code> loop is “True”… which is <em>always</em> true, so this loop will run forever (or until you power off the board).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">board</span>
<span class="kn">import</span> <span class="nn">digitalio</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">led</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">LED</span><span class="p">)</span>
<span class="n">led</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">Direction</span><span class="o">.</span><span class="n">OUTPUT</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">led</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">led</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">led</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">led</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p>This next program from Kattni Rembor accesses the on-board neopixel, a sophisticated (and very bright) RGB LED.  The neopixel is actually three LEDs in one package, but the <code class="docutils literal notranslate"><span class="pre">neopixel</span></code> module provides some handy ways to access and control it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># SPDX-FileCopyrightText: 2021 Kattni Rembor for Adafruit Industries</span>
<span class="c1"># SPDX-License-Identifier: MIT</span>
<span class="sd">&quot;&quot;&quot;CircuitPython status NeoPixel red, green, blue example.&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">board</span>
<span class="kn">import</span> <span class="nn">neopixel</span>

<span class="n">pixel</span> <span class="o">=</span> <span class="n">neopixel</span><span class="o">.</span><span class="n">NeoPixel</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">NEOPIXEL</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">pixel</span><span class="o">.</span><span class="n">brightness</span> <span class="o">=</span> <span class="mf">0.3</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">pixel</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">pixel</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">pixel</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p>The previous programs were examples of generating output (albeit not very rich output).  This last example program demonstrates how the board can read analog input. The ItsyBitsy uses a 16-bit Analog-to-Digital-Converter (ADC) to read an analog voltage on one of its input pins anc convert it to a digital value between <span class="math notranslate nohighlight">\(0\)</span> and <span class="math notranslate nohighlight">\(2^{16}-1 = 65535\)</span>.  Your instructor will show you how to wire a potentiometer to one of the analog input pins on your board.  The block of code below will read the analog voltage on this pin and print the digital value to screen four times per second.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">board</span>
<span class="kn">from</span> <span class="nn">analogio</span> <span class="kn">import</span> <span class="n">AnalogIn</span>

<span class="c1"># Analog ins are 16-bit ADCs!</span>
<span class="n">analog_in</span> <span class="o">=</span> <span class="n">AnalogIn</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">A1</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">analog_in</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="in-class-problems">
<h2><span class="section-number">2.5. </span>In-class problems<a class="headerlink" href="#in-class-problems" title="Permalink to this headline">#</a></h2>
<p>The excercises below will require you to do some light electronics work.  Your instructor will provide you with the necessary components, but you should probably do your work in the lab in case you have questions about wiring.  Please complete one of the following problems.  You may work with a partner.</p>
<section id="regulars">
<h3>Regulars<a class="headerlink" href="#regulars" title="Permalink to this headline">#</a></h3>
<section id="problem-10-0">
<h4>Problem 10.0<a class="headerlink" href="#problem-10-0" title="Permalink to this headline">#</a></h4>
<p>Wire a 10k<span class="math notranslate nohighlight">\(\Omega\)</span> potentiometer so that its outer legs jumper <span class="math notranslate nohighlight">\(5\)</span>~V and ground pins of the ItsyBitsy, and its center leg connects to one of the board’s analog input pins.  Write a program that fades the NeoPixel from red to green based on the voltage from the center pin of the potentiometer.</p>
</section>
<section id="problem-10-1">
<h4>Problem 10.1<a class="headerlink" href="#problem-10-1" title="Permalink to this headline">#</a></h4>
<p>Wire a 10k<span class="math notranslate nohighlight">\(\Omega\)</span> potentiometer so that its outer legs jumper <span class="math notranslate nohighlight">\(5\)</span>~V and ground pins of the ItsyBitsy, and its center leg connects to one of the board’s analog input pins. Connect an LED on one of the digital output pins.  Flash the LED on/off with a frequency controlled by the center pin of the potentiometer.</p>
</section>
</section>
<section id="meanies">
<h3>Meanies<a class="headerlink" href="#meanies" title="Permalink to this headline">#</a></h3>
<section id="problem-10-2">
<h4>Problem 10.2<a class="headerlink" href="#problem-10-2" title="Permalink to this headline">#</a></h4>
<p>Build a GameBoy Color.</p>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "executablebooks/jupyter-book",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters_ipynb"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="scicomp_06_textasdata.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">1. </span>Text as data</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="scicomp_z0_ll_analysis.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Di-lepton mass spectrum from the Compact Muon Solenoid</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mike McCracken<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>